# РЎРІРѕРґРєР° Р°СѓРґРёС‚Р° РїСЂРѕРµРєС‚Р° api.gosklad.ru

**Р”Р°С‚Р° РїСЂРѕРІРµРґРµРЅРёСЏ:** 2024  
**Р’РµСЂСЃРёСЏ РїСЂРѕРµРєС‚Р°:** Laravel 9, PHP 8.1  
**РђСѓРґРёС‚РѕСЂ:** РўРµС…РЅРёС‡РµСЃРєРёР№ Р°СѓРґРёС‚

---

## РљСЂР°С‚РєРѕРµ СЂРµР·СЋРјРµ

РџСЂРѕРµРєС‚ `api.gosklad.ru` РїСЂРµРґСЃС‚Р°РІР»СЏРµС‚ СЃРѕР±РѕР№ РєСЂСѓРїРЅРѕРµ Laravel-РїСЂРёР»РѕР¶РµРЅРёРµ СЃ РёРЅС‚РµРіСЂР°С†РёСЏРјРё amoCRM/Kommo Рё Bitrix24. РђСѓРґРёС‚ РІС‹СЏРІРёР» РєСЂРёС‚РёС‡РµСЃРєРёРµ РїСЂРѕР±Р»РµРјС‹ Р±РµР·РѕРїР°СЃРЅРѕСЃС‚Рё, Р°СЂС…РёС‚РµРєС‚СѓСЂРЅС‹Рµ РЅРµРґРѕСЃС‚Р°С‚РєРё Рё РѕС‚СЃСѓС‚СЃС‚РІРёРµ РїСЂРѕС†РµСЃСЃРѕРІ СЂР°Р·СЂР°Р±РѕС‚РєРё.

### РћР±С‰Р°СЏ РѕС†РµРЅРєР°

- **РљСЂРёС‚РёС‡РµСЃРєРёРµ РїСЂРѕР±Р»РµРјС‹ (S0):** 6
- **Р’С‹СЃРѕРєРёР№ РїСЂРёРѕСЂРёС‚РµС‚ (S1):** 16
- **РЎСЂРµРґРЅРёР№ РїСЂРёРѕСЂРёС‚РµС‚ (S2):** 26
- **РќРёР·РєРёР№ РїСЂРёРѕСЂРёС‚РµС‚ (S3):** 11

**РЎС‚Р°С‚СѓСЃ:** рџ”ґ **РўСЂРµР±СѓРµС‚СЃСЏ РЅРµРјРµРґР»РµРЅРЅРѕРµ РІРјРµС€Р°С‚РµР»СЊСЃС‚РІРѕ**

---

## РўРѕРї-7 РєСЂРёС‚РёС‡РµСЃРєРёС… СЂРёСЃРєРѕРІ (S0/S1)

### 1. Hard-coded С‚РѕРєРµРЅС‹ Рё СЃРµРєСЂРµС‚С‹ РІ РєРѕРґРµ
**Severity:** S0  
**Р¤Р°Р№Р»С‹:** `routes/web.php` (СЃС‚СЂРѕРєРё 324-406, 401-427), `app/Http/Controllers/Api/V1/TestController.php:344-348`  
**РћРїРёСЃР°РЅРёРµ:** Р”РµСЃСЏС‚РєРё РїСѓР±Р»РёС‡РЅС‹С… РјР°СЂС€СЂСѓС‚РѕРІ Р·Р°С‰РёС‰РµРЅС‹ С‚РѕР»СЊРєРѕ Р·РЅР°РЅРёРµРј С‚РѕРєРµРЅРѕРІ, С…СЂР°РЅСЏС‰РёС…СЃСЏ РІ РєРѕРґРµ. РњРµС‚РѕРґ `TestController::accounts()` РІС‹РІРѕРґРёС‚ С‚РѕРєРµРЅС‹ РїРѕР»СЊР·РѕРІР°С‚РµР»РµР№ Р±РµР· Р°РІС‚РѕСЂРёР·Р°С†РёРё.  
**Р РёСЃРє:** РџРѕР»РЅС‹Р№ РєРѕРјРїСЂРѕРјРёСЃСЃ СЃРёСЃС‚РµРјС‹, СѓС‚РµС‡РєР° РґР°РЅРЅС‹С…, РЅРµСЃР°РЅРєС†РёРѕРЅРёСЂРѕРІР°РЅРЅС‹Рµ РѕРїРµСЂР°С†РёРё.  
**Р РµРєРѕРјРµРЅРґР°С†РёСЏ:** РќРµРјРµРґР»РµРЅРЅРѕ РІС‹РЅРµСЃС‚Рё РІСЃРµ С‚РѕРєРµРЅС‹ РІ `.env`, Р·Р°РєСЂС‹С‚СЊ РІСЃРµ РїСѓР±Р»РёС‡РЅС‹Рµ РјР°СЂС€СЂСѓС‚С‹, СЂРµРІРѕРєРёСЂРѕРІР°С‚СЊ СѓС‚РµРєС€РёРµ РєР»СЋС‡Рё, СѓРґР°Р»РёС‚СЊ/Р·Р°С‰РёС‚РёС‚СЊ TestController.

### 2. РџСѓР±Р»РёС‡РЅС‹Рµ API Р±РµР· Р°РІС‚РѕСЂРёР·Р°С†РёРё
**Severity:** S0  
**Р¤Р°Р№Р»С‹:** `routes/web.php` (РјРЅРѕР¶РµСЃС‚РІРѕ РјР°СЂС€СЂСѓС‚РѕРІ), `app/Providers/AuthServiceProvider.php`  
**РћРїРёСЃР°РЅРёРµ:** Р‘РѕР»СЊС€РёРЅСЃС‚РІРѕ РєСЂРёС‚РёС‡РЅС‹С… РѕРїРµСЂР°С†РёР№ РІС‹РїРѕР»РЅСЏСЋС‚СЃСЏ Р±РµР· Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё Рё Р°РІС‚РѕСЂРёР·Р°С†РёРѕРЅРЅС‹С… РїСЂРѕРІРµСЂРѕРє. Policies РЅРµ РёСЃРїРѕР»СЊР·СѓСЋС‚СЃСЏ.  
**Р РёСЃРє:** Р—Р»РѕСѓРјС‹С€Р»РµРЅРЅРёРє РјРѕР¶РµС‚ РІС‹РїРѕР»РЅСЏС‚СЊ РѕРїРµСЂР°С†РёРё РѕС‚ РёРјРµРЅРё СЃРёСЃС‚РµРјС‹, РјРµРЅСЏС‚СЊ СЂРµР·РµСЂРІС‹, РІС‹РіСЂСѓР¶Р°С‚СЊ РґР°РЅРЅС‹Рµ.  
**Р РµРєРѕРјРµРЅРґР°С†РёСЏ:** Р’РІРµСЃС‚Рё Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ (Sanctum/Passport) РґР»СЏ РІСЃРµС… API-РјР°СЂС€СЂСѓС‚РѕРІ, РѕРїРёСЃР°С‚СЊ Policies, РїСЂРёРјРµРЅРёС‚СЊ middleware `auth:sanctum`.

### 3. РўРµСЃС‚РѕРІС‹Р№ РєРѕРґ РІ РїСЂРѕРґР°РєС€РЅРµ
**Severity:** S0  
**Р¤Р°Р№Р»С‹:** `app/Http/Controllers/Api/V1/TestController.php`  
**РћРїРёСЃР°РЅРёРµ:** РљРѕРЅС‚СЂРѕР»Р»РµСЂ РІС‹РїРѕР»РЅСЏРµС‚ РѕРїР°СЃРЅС‹Рµ РѕРїРµСЂР°С†РёРё: РјР°СЃСЃРѕРІРѕРµ СЃРѕР·РґР°РЅРёРµ Р·Р°РїРёСЃРµР№ (20000 РїСЂРѕРґСѓРєС‚РѕРІ), СЃРѕС…СЂР°РЅРµРЅРёРµ С„Р°Р№Р»РѕРІ СЃ `chmod 0777`, `die()` РІ РѕС‚РІРµС‚Р°С…, РІС‹РІРѕРґ С‚РѕРєРµРЅРѕРІ РїРѕР»СЊР·РѕРІР°С‚РµР»РµР№.  
**Р РёСЃРє:** DoS, РєРѕРјРїСЂРѕРјРёСЃСЃ С„Р°Р№Р»РѕРІРѕР№ СЃРёСЃС‚РµРјС‹, РїРѕС‚РµСЂСЏ РґР°РЅРЅС‹С…, СѓС‚РµС‡РєР° С‚РѕРєРµРЅРѕРІ.  
**Р РµРєРѕРјРµРЅРґР°С†РёСЏ:** РЈРґР°Р»РёС‚СЊ РёР»Рё РїРµСЂРµРјРµСЃС‚РёС‚СЊ РІ РѕС‚РґРµР»СЊРЅРѕРµ РѕРєСЂСѓР¶РµРЅРёРµ.

### 4. РћС‚РєР»СЋС‡РµРЅР° РїСЂРѕРІРµСЂРєР° SSL
**Severity:** S1  
**Р¤Р°Р№Р»С‹:** `app/Helpers/helpers.php:740-763`, `app/Services/DocumentService.php:282-296`  
**РћРїРёСЃР°РЅРёРµ:** Р“Р»РѕР±Р°Р»СЊРЅРѕ РѕС‚РєР»СЋС‡РµРЅР° РїСЂРѕРІРµСЂРєР° SSL-СЃРµСЂС‚РёС„РёРєР°С‚РѕРІ РІ HTTP-РєР»РёРµРЅС‚Р°С… (`CURLOPT_SSL_VERIFYPEER = false`).  
**Р РёСЃРє:** РЈСЏР·РІРёРјРѕСЃС‚СЊ Рє MITM-Р°С‚Р°РєР°Рј, РїРѕРґРјРµРЅР° РѕС‚РІРµС‚РѕРІ РѕС‚ РІРЅРµС€РЅРёС… API (amoCRM, Bitrix24).  
**Р РµРєРѕРјРµРЅРґР°С†РёСЏ:** Р’РєР»СЋС‡РёС‚СЊ РїСЂРѕРІРµСЂРєСѓ SSL, РёСЃРїРѕР»СЊР·РѕРІР°С‚СЊ Guzzle СЃ РїСЂР°РІРёР»СЊРЅС‹РјРё РЅР°СЃС‚СЂРѕР№РєР°РјРё.

### 5. РЎР°РјРѕРїРёСЃРЅР°СЏ СЃРёСЃС‚РµРјР° РѕС‡РµСЂРµРґРµР№ РІРјРµСЃС‚Рѕ Laravel Horizon
**Severity:** S1  
**Р¤Р°Р№Р»С‹:** `app/Classes/Job.php`, `routes/web.php:73`  
**РћРїРёСЃР°РЅРёРµ:** РСЃРїРѕР»СЊР·СѓРµС‚СЃСЏ СЃР°РјРѕРїРёСЃРЅР°СЏ СЃРёСЃС‚РµРјР° РѕС‡РµСЂРµРґРµР№ С‡РµСЂРµР· Redis РІРјРµСЃС‚Рѕ Laravel Horizon. Р—Р°РґР°С‡Рё Р·Р°РїСѓСЃРєР°СЋС‚СЃСЏ cron-СЃРєСЂРёРїС‚Р°РјРё.  
**Р РёСЃРє:** РџРѕС‚РµСЂСЏ Р·Р°РґР°С‡ РїСЂРё РїР°РґРµРЅРёРё РІРѕСЂРєРµСЂР°, РѕС‚СЃСѓС‚СЃС‚РІРёРµ retry/backoff, РЅРµС‚ РјРѕРЅРёС‚РѕСЂРёРЅРіР° (dead-letter queue, Р·Р°РґРµСЂР¶РєРё).  
**Р РµРєРѕРјРµРЅРґР°С†РёСЏ:** Р’РѕСЃСЃС‚Р°РЅРѕРІРёС‚СЊ Laravel Horizon, РјРёРіСЂРёСЂРѕРІР°С‚СЊ Р·Р°РґР°С‡Рё, РЅР°СЃС‚СЂРѕРёС‚СЊ РјРѕРЅРёС‚РѕСЂРёРЅРі.

### 6. РЎР°РјРѕРїРёСЃРЅС‹Рµ Р±РёР±Р»РёРѕС‚РµРєРё Рё С…РµР»РїРµСЂС‹
**Severity:** S1  
**Р¤Р°Р№Р»С‹:** `app/Amo/Classes/Request.php`, `app/Classes/Bitrix24.php`, `app/Classes/TG.php`, `app/Helpers/helpers.php`  
**РћРїРёСЃР°РЅРёРµ:** РСЃРїРѕР»СЊР·СѓСЋС‚СЃСЏ СЃР°РјРѕРїРёСЃРЅС‹Рµ HTTP-РєР»РёРµРЅС‚С‹ РґР»СЏ amoCRM, Bitrix24 Рё Telegram РІРјРµСЃС‚Рѕ РѕС„РёС†РёР°Р»СЊРЅС‹С… Р±РёР±Р»РёРѕС‚РµРє. 70+ СЃР°РјРѕРїРёСЃРЅС‹С… С…РµР»РїРµСЂРѕРІ РґСѓР±Р»РёСЂСѓСЋС‚ РІСЃС‚СЂРѕРµРЅРЅС‹Рµ С„СѓРЅРєС†РёРё Laravel.  
**Р РёСЃРє:** РћС‚РєР»СЋС‡РµРЅРЅР°СЏ РїСЂРѕРІРµСЂРєР° SSL, hard-coded С‚РѕРєРµРЅС‹, РґСѓР±Р»РёСЂРѕРІР°РЅРёРµ РєРѕРґР°, СЃР»РѕР¶РЅРѕСЃС‚СЊ РїРѕРґРґРµСЂР¶РєРё, РЅРµРІРѕР·РјРѕР¶РЅРѕСЃС‚СЊ РёСЃРїРѕР»СЊР·РѕРІР°С‚СЊ РїСЂРµРёРјСѓС‰РµСЃС‚РІР° Laravel.  
**Р РµРєРѕРјРµРЅРґР°С†РёСЏ:** Р—Р°РјРµРЅРёС‚СЊ РЅР° РѕС„РёС†РёР°Р»СЊРЅС‹Рµ Р±РёР±Р»РёРѕС‚РµРєРё (`amocrm/amocrm-api-php`, `andrey-tech/bitrix24-api-php`, `laravel-notification-channels/telegram`), Р·Р°РјРµРЅРёС‚СЊ С…РµР»РїРµСЂС‹ РЅР° РІСЃС‚СЂРѕРµРЅРЅС‹Рµ С„СѓРЅРєС†РёРё Laravel.

### 7. РџСЂРѕР±Р»РµРјС‹ СЃ РјРёРіСЂР°С†РёСЏРјРё Рё СЂР°Р·РІРµСЂС‚РєРѕР№
**Severity:** S1  
**Р¤Р°Р№Р»С‹:** `database/_migrations/`, `database/gs (2).sql`  
**РћРїРёСЃР°РЅРёРµ:** РњРёРіСЂР°С†РёРё РЅР°С…РѕРґСЏС‚СЃСЏ РІ РЅРµСЃС‚Р°РЅРґР°СЂС‚РЅРѕР№ РїР°РїРєРµ `_migrations`, Р±Р°Р·Р° СЃРѕР·РґР°С‘С‚СЃСЏ С‡РµСЂРµР· SQL-РґР°РјРїС‹, РѕС‚СЃСѓС‚СЃС‚РІСѓРµС‚ СѓРґРѕР±РЅР°СЏ СЂР°Р·РІРµСЂС‚РєР° РѕРєСЂСѓР¶РµРЅРёР№ (Docker/Makefile).  
**Р РёСЃРє:** РќРµРІРѕР·РјРѕР¶РЅРѕСЃС‚СЊ РІРѕСЃРїСЂРѕРёР·РІРµСЃС‚Рё Р±Р°Р·Сѓ РЅР° С‡РёСЃС‚РѕРј РѕРєСЂСѓР¶РµРЅРёРё, СЃР»РѕР¶РЅРѕСЃС‚СЊ СЂР°Р·РІРµСЂС‚РєРё dev/stage РѕРєСЂСѓР¶РµРЅРёР№, РІС‹СЃРѕРєРёР№ СЂРёСЃРє РѕС€РёР±РѕРє РїСЂРё СЂСѓС‡РЅРѕР№ РЅР°СЃС‚СЂРѕР№РєРµ.  
**Р РµРєРѕРјРµРЅРґР°С†РёСЏ:** РџРµСЂРµРЅРµСЃС‚Рё РјРёРіСЂР°С†РёРё РІ СЃС‚Р°РЅРґР°СЂС‚РЅСѓСЋ РїР°РїРєСѓ, СЃРѕР·РґР°С‚СЊ Docker Compose Рё Makefile РґР»СЏ СЂР°Р·РІРµСЂС‚РєРё, РЅР°СЃС‚СЂРѕРёС‚СЊ Р°РІС‚РѕРјР°С‚РёС‡РµСЃРєСѓСЋ РјРёРіСЂР°С†РёСЋ.

---

## Р‘С‹СЃС‚СЂС‹Рµ РїРѕР±РµРґС‹ (Quick Wins) вЂ” 1-2 РЅРµРґРµР»Рё

1. вњ… **Р—Р°РєСЂС‹С‚СЊ РїСѓР±Р»РёС‡РЅС‹Рµ РјР°СЂС€СЂСѓС‚С‹** вЂ” РїРµСЂРµРЅРµСЃС‚Рё РІ РєРѕРЅС‚СЂРѕР»Р»РµСЂС‹ СЃ Р°РІС‚РѕСЂРёР·Р°С†РёРµР№
2. вњ… **РЈРґР°Р»РёС‚СЊ TestController** вЂ” РїРµСЂРµРјРµСЃС‚РёС‚СЊ С‚РµСЃС‚С‹ РІ РѕС‚РґРµР»СЊРЅРѕРµ РѕРєСЂСѓР¶РµРЅРёРµ
3. вњ… **Р’С‹РЅРµСЃС‚Рё С‚РѕРєРµРЅС‹ РІ `.env`** вЂ” РѕС‡РёСЃС‚РёС‚СЊ РёСЃС‚РѕСЂРёСЋ Git, СЂРµРІРѕРєРёСЂРѕРІР°С‚СЊ РєР»СЋС‡Рё
4. вњ… **Р’РєР»СЋС‡РёС‚СЊ РїСЂРѕРІРµСЂРєСѓ SSL** вЂ” РёСЃРїСЂР°РІРёС‚СЊ `requestGet()` Рё `DocumentService::post()`
5. вњ… **РћС‡РёСЃС‚РёС‚СЊ helper'С‹** вЂ” Р·Р°РјРµРЅРёС‚СЊ `die` РЅР° Р»РѕРіРёСЂРѕРІР°РЅРёРµ
6. вњ… **РќР°СЃС‚СЂРѕРёС‚СЊ РјРѕРЅРёС‚РѕСЂРёРЅРі** вЂ” РґРѕР±Р°РІРёС‚СЊ Sentry/Bugsnag РґР»СЏ РєСЂРёС‚РёС‡РµСЃРєРёС… РѕС€РёР±РѕРє
7. вњ… **РђРІС‚РѕРјР°С‚РёР·РёСЂРѕРІР°С‚СЊ Р±СЌРєР°РїС‹** вЂ” РЅР°СЃС‚СЂРѕРёС‚СЊ СЂР°СЃРїРёСЃР°РЅРёРµ Рё РїСЂРѕРІРµСЂРєСѓ РІРѕСЃСЃС‚Р°РЅРѕРІР»РµРЅРёСЏ
8. вњ… **РќР°СЃС‚СЂРѕРёС‚СЊ Р±Р°Р·РѕРІС‹Р№ CI/CD** вЂ” Р°РІС‚РѕРјР°С‚РёР·РёСЂРѕРІР°С‚СЊ РґРµРїР»РѕР№
9. вњ… **Р—Р°РјРµРЅРёС‚СЊ СЃР°РјРѕРїРёСЃРЅС‹Рµ Р±РёР±Р»РёРѕС‚РµРєРё** вЂ” РёСЃРїРѕР»СЊР·РѕРІР°С‚СЊ РѕС„РёС†РёР°Р»СЊРЅС‹Рµ РґР»СЏ amoCRM/Bitrix24/Telegram
10. вњ… **Р—Р°РјРµРЅРёС‚СЊ СЃР°РјРѕРїРёСЃРЅС‹Рµ С…РµР»РїРµСЂС‹** вЂ” РёСЃРїРѕР»СЊР·РѕРІР°С‚СЊ РІСЃС‚СЂРѕРµРЅРЅС‹Рµ С„СѓРЅРєС†РёРё Laravel
11. вњ… **РџРµСЂРµРЅРµСЃС‚Рё РјРёРіСЂР°С†РёРё** вЂ” РёР· `_migrations` РІ СЃС‚Р°РЅРґР°СЂС‚РЅСѓСЋ РїР°РїРєСѓ
12. вњ… **РЎРѕР·РґР°С‚СЊ Docker/Makefile** вЂ” РґР»СЏ СѓРґРѕР±РЅРѕР№ СЂР°Р·РІРµСЂС‚РєРё РѕРєСЂСѓР¶РµРЅРёР№

---

## Р”РµС‚Р°Р»СЊРЅР°СЏ СЂР°Р·Р±РёРІРєР° РїРѕ Р±Р»РѕРєР°Рј

### Р‘Р»РѕРє 0: РњРµС‚РѕРґРёРєР° Рё РёРЅСЃС‚СЂСѓРјРµРЅС‚С‹
- вњ… РЁРєР°Р»Р° СЃРµСЂСЊРµР·РЅРѕСЃС‚Рё РѕРїСЂРµРґРµР»РµРЅР°
- вњ… Р¤РѕСЂРјР°С‚ С„РёРєСЃР°С†РёРё РЅР°С…РѕРґРѕРє РѕРїРёСЃР°РЅ
- вњ… РРЅСЃС‚СЂСѓРјРµРЅС‚С‹ РїРµСЂРµС‡РёСЃР»РµРЅС‹
- **РЎС‚Р°С‚СѓСЃ:** РџСЂРѕР№РґРµРЅРѕ

### Р‘Р»РѕРє 1: Р’РѕСЃРїСЂРѕРёР·РІРѕРґРёРјРѕСЃС‚СЊ
- вќЊ Р’РµСЂСЃРёРё РЅРµ Р·Р°С„РёРєСЃРёСЂРѕРІР°РЅС‹ РґРѕР»Р¶РЅС‹Рј РѕР±СЂР°Р·РѕРј
- вљ пёЏ `minimum-stability: dev` РІ composer.json
- вќЊ РћС‚СЃСѓС‚СЃС‚РІСѓСЋС‚ Dockerfile/Makefile Рё РёРЅСЃС‚СЂСѓРєС†РёРё РїРѕ РІРѕСЃРїСЂРѕРёР·РІРѕРґРёРјРѕРјСѓ Р·Р°РїСѓСЃРєСѓ
- **РЎС‚Р°С‚СѓСЃ:** РќРµ РїСЂРѕР№РґРµРЅ (S1)

### Р‘Р»РѕРє 2: РљРѕРЅС„РёРіСѓСЂР°С†РёРё Рё СЃРµРєСЂРµС‚С‹
- вќЊ Hard-coded С‚РѕРєРµРЅС‹ РІ РєРѕРґРµ (`routes/web.php`, `TestController`)
- вќЊ РЎРµРєСЂРµС‚С‹ РІ СЂРµРїРѕР·РёС‚РѕСЂРёРё
- вљ пёЏ РўСЂРµР±СѓРµС‚СЃСЏ РїСЂРѕРІРµСЂРєР° `APP_DEBUG` РЅР° РїСЂРѕРґР°РєС€РЅРµ
- **РЎС‚Р°С‚СѓСЃ:** РќРµ РїСЂРѕР№РґРµРЅ (S0)

### Р‘Р»РѕРє 3: Р—Р°РІРёСЃРёРјРѕСЃС‚Рё
- вљ пёЏ РўСЂРµР±СѓРµС‚СЃСЏ РїСЂРѕРІРµСЂРєР° СѓСЏР·РІРёРјРѕСЃС‚РµР№ (`composer audit`)
- вљ пёЏ Laravel 9 Рё PHP 8.1 Р±Р»РёР·СЏС‚СЃСЏ Рє EoL
- вљ пёЏ Р’РѕР·РјРѕР¶РЅС‹ РёР·Р±С‹С‚РѕС‡РЅС‹Рµ РїР°РєРµС‚С‹
- **РЎС‚Р°С‚СѓСЃ:** РўСЂРµР±СѓРµС‚ РїСЂРѕРІРµСЂРєРё (S2)

### Р‘Р»РѕРє 4: РђСЂС…РёС‚РµРєС‚СѓСЂР°
- вќЊ РўРѕР»СЃС‚С‹Рµ РєРѕРЅС‚СЂРѕР»Р»РµСЂС‹, Р±РёР·РЅРµСЃ-Р»РѕРіРёРєР° РІ РјР°СЂС€СЂСѓС‚Р°С…
- вќЊ РћС‚СЃСѓС‚СЃС‚РІРёРµ DTO/VO
- вќЊ РЎС‚Р°С‚РёС‡РµСЃРєРёРµ РІС‹Р·РѕРІС‹ РїРѕРІСЃСЋРґСѓ
- **РЎС‚Р°С‚СѓСЃ:** РќРµ РїСЂРѕР№РґРµРЅ (S2)

### Р‘Р»РѕРє 5: РњР°СЂС€СЂСѓС‚С‹ Рё РґРѕСЃС‚СѓРїС‹
- вќЊ РџСѓР±Р»РёС‡РЅС‹Рµ РѕРїР°СЃРЅС‹Рµ РјР°СЂС€СЂСѓС‚С‹ (>2300 СЃС‚СЂРѕРє РІ `web.php`)
- вќЊ РћС‚СЃСѓС‚СЃС‚РІРёРµ Policies Рё Р°РІС‚РѕСЂРёР·Р°С†РёРё
- вќЊ РќРµС‚ РІРµСЂСЃРёРѕРЅРёСЂРѕРІР°РЅРёСЏ API
- **РЎС‚Р°С‚СѓСЃ:** РќРµ РїСЂРѕР№РґРµРЅ (S0)

### Р‘Р»РѕРє 6: РњРѕРґРµР»Рё Eloquent
- вљ пёЏ РўСЂРµР±СѓРµС‚СЃСЏ РїСЂРѕРІРµСЂРєР° N+1 (РІРєР»СЋС‡РёС‚СЊ `preventLazyLoading()`)
- вљ пёЏ РўСЂРµР±СѓРµС‚СЃСЏ РїСЂРѕРІРµСЂРєР° РјР°СЃСЃРѕРІС‹С… РїСЂРёСЃРІРѕРµРЅРёР№
- вљ пёЏ РўСЂРµР±СѓРµС‚СЃСЏ РїСЂРѕРІРµСЂРєР° casts
- **РЎС‚Р°С‚СѓСЃ:** РўСЂРµР±СѓРµС‚ РїСЂРѕРІРµСЂРєРё (S2)

### Р‘Р»РѕРє 7: Р‘Р°Р·Р° РґР°РЅРЅС‹С…
- вљ пёЏ РўСЂРµР±СѓРµС‚СЃСЏ Р°РЅР°Р»РёР· РёРЅРґРµРєСЃРѕРІ Рё constraints
- вљ пёЏ РўСЂРµР±СѓРµС‚СЃСЏ РїСЂРѕРІРµСЂРєР° РјРёРіСЂР°С†РёР№
- вљ пёЏ РњРµРґР»РµРЅРЅС‹Рµ Р·Р°РїСЂРѕСЃС‹ (>10 СЃРµРє РґР»СЏ 200 С‚РѕРІР°СЂРѕРІ)
- **РЎС‚Р°С‚СѓСЃ:** РўСЂРµР±СѓРµС‚ РїСЂРѕРІРµСЂРєРё (S2)

### Р‘Р»РѕРє 8: Р’Р°Р»РёРґР°С†РёСЏ Рё РѕС€РёР±РєРё
- вљ пёЏ РўСЂРµР±СѓРµС‚СЃСЏ РїСЂРѕРІРµСЂРєР° FormRequest
- вљ пёЏ Р“Р»РѕР±Р°Р»СЊРЅС‹Р№ РѕР±СЂР°Р±РѕС‚С‡РёРє РёСЃРєР»СЋС‡РµРЅРёР№ С‚СЂРµР±СѓРµС‚ СѓР»СѓС‡С€РµРЅРёСЏ
- **РЎС‚Р°С‚СѓСЃ:** РўСЂРµР±СѓРµС‚ РїСЂРѕРІРµСЂРєРё (S2)

### Р‘Р»РѕРє 9: Р›РѕРіРёСЂРѕРІР°РЅРёРµ
- вќЊ Р›РѕРіРё РІ С„Р°Р№Р»С‹ Р±РµР· СЂРѕС‚Р°С†РёРё (`file_put_contents` РІ helper'Р°С…)
- вќЊ РћС‚СЃСѓС‚СЃС‚РІРёРµ С†РµРЅС‚СЂР°Р»РёР·РѕРІР°РЅРЅРѕРіРѕ РјРѕРЅРёС‚РѕСЂРёРЅРіР°
- вќЊ РќРµС‚ request-id, СЃС‚СЂСѓРєС‚СѓСЂРёСЂРѕРІР°РЅРЅРѕРіРѕ С„РѕСЂРјР°С‚Р°
- вќЊ РћС‚СЃСѓС‚СЃС‚РІРёРµ Р°Р»РµСЂС‚РёРЅРіР° Рё РјРµС‚СЂРёРє
- **РЎС‚Р°С‚СѓСЃ:** РќРµ РїСЂРѕР№РґРµРЅ (S1)

### Р‘Р»РѕРє 10: РћС‡РµСЂРµРґРё
- вќЊ РЎР°РјРѕРїРёСЃРЅР°СЏ СЃРёСЃС‚РµРјР° РІРјРµСЃС‚Рѕ Laravel Horizon
- вќЊ РћС‚СЃСѓС‚СЃС‚РІРёРµ РјРѕРЅРёС‚РѕСЂРёРЅРіР°
- вљ пёЏ РўСЂРµР±СѓРµС‚СЃСЏ РїСЂРѕРІРµСЂРєР° СЂР°СЃРїРёСЃР°РЅРёСЏ (cron)
- **РЎС‚Р°С‚СѓСЃ:** РќРµ РїСЂРѕР№РґРµРЅ (S1)

### Р‘Р»РѕРє 11: РљСЌС€РёСЂРѕРІР°РЅРёРµ
- вљ пёЏ РўСЂРµР±СѓРµС‚СЃСЏ РїСЂРѕРІРµСЂРєР° СЃС‚СЂР°С‚РµРіРёР№ РєСЌС€РёСЂРѕРІР°РЅРёСЏ
- вљ пёЏ РўСЂРµР±СѓРµС‚СЃСЏ РїСЂРѕРІРµСЂРєР° РІРєР»СЋС‡РµРЅРёСЏ РєСЌС€РµР№ С„СЂРµР№РјРІРѕСЂРєР°
- вљ пёЏ РўСЂРµР±СѓРµС‚СЃСЏ РїСЂРѕРІРµСЂРєР° РїР°РіРёРЅР°С†РёРё
- **РЎС‚Р°С‚СѓСЃ:** РўСЂРµР±СѓРµС‚ РїСЂРѕРІРµСЂРєРё (S2)

### Р‘Р»РѕРє 12: API
- вљ пёЏ РўСЂРµР±СѓРµС‚СЃСЏ РїСЂРѕРІРµСЂРєР° РІРµСЂСЃРёРѕРЅРёСЂРѕРІР°РЅРёСЏ
- вќЊ РћС‚СЃСѓС‚СЃС‚РІРёРµ Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё РґР»СЏ РјРЅРѕРіРёС… СЌРЅРґРїРѕРёРЅС‚РѕРІ
- вќЊ РћС‚СЃСѓС‚СЃС‚РІРёРµ Р·Р°С‰РёС‚С‹ РѕС‚ CSRF/rate-limit
- **РЎС‚Р°С‚СѓСЃ:** РќРµ РїСЂРѕР№РґРµРЅ (S0/S1/S2)

### Р‘Р»РѕРє 13: Р‘РµР·РѕРїР°СЃРЅРѕСЃС‚СЊ
- вќЊ РћС‚РєР»СЋС‡РµРЅР° РїСЂРѕРІРµСЂРєР° SSL
- вќЊ Р¤Р°Р№Р»С‹ РІ `public/` Р±РµР· РїСЂРѕРІРµСЂРѕРє
- вќЊ РћС‚СЃСѓС‚СЃС‚РІРёРµ Policies РґРѕСЃС‚СѓРїР°
- **РЎС‚Р°С‚СѓСЃ:** РќРµ РїСЂРѕР№РґРµРЅ (S0/S1)

### Р‘Р»РѕРє 14: Р¤Р°Р№Р»РѕРІС‹Рµ С…СЂР°РЅРёР»РёС‰Р°
- вќЊ Р”РѕРєСѓРјРµРЅС‚С‹ РЅР° Р»РѕРєР°Р»СЊРЅРѕРј РґРёСЃРєРµ
- вќЊ РћС‚СЃСѓС‚СЃС‚РІРёРµ S3/CDN
- **РЎС‚Р°С‚СѓСЃ:** РќРµ РїСЂРѕР№РґРµРЅ (S2)

### Р‘Р»РѕРє 15: РџРѕС‡С‚Р°
- вљ пёЏ РўСЂРµР±СѓРµС‚СЃСЏ РїСЂРѕРІРµСЂРєР° РґСЂР°Р№РІРµСЂРѕРІ
- вљ пёЏ РўСЂРµР±СѓРµС‚СЃСЏ РїСЂРѕРІРµСЂРєР° DKIM/SPF
- **РЎС‚Р°С‚СѓСЃ:** РўСЂРµР±СѓРµС‚ РїСЂРѕРІРµСЂРєРё (S2)

### Р‘Р»РѕРє 16: Р›РѕРєР°Р»РёР·Р°С†РёСЏ
- вљ пёЏ РЎРјРµС€РµРЅРёРµ СЏР·С‹РєРѕРІ РІ РєРѕРґРµ
- вљ пёЏ РўСЂРµР±СѓРµС‚СЃСЏ РїСЂРѕРІРµСЂРєР° СЂР°Р±РѕС‚С‹ СЃ timezone
- **РЎС‚Р°С‚СѓСЃ:** РўСЂРµР±СѓРµС‚ РїСЂРѕРІРµСЂРєРё (S2/S3)

### Р‘Р»РѕРє 17: РўРµСЃС‚РёСЂРѕРІР°РЅРёРµ
- вќЊ РџСЂР°РєС‚РёС‡РµСЃРєРё РѕС‚СЃСѓС‚СЃС‚РІСѓСЋС‚ С‚РµСЃС‚С‹ (С‚РѕР»СЊРєРѕ С€Р°Р±Р»РѕРЅРЅС‹Рµ `ExampleTest`)
- вќЊ РћС‚СЃСѓС‚СЃС‚РІРёРµ СЃС‚Р°С‚РёС‡РµСЃРєРѕРіРѕ Р°РЅР°Р»РёР·Р° (PHPStan/Larastan)
- **РЎС‚Р°С‚СѓСЃ:** РќРµ РїСЂРѕР№РґРµРЅ (S2)

### Р‘Р»РѕРє 18: РРЅС‚РµРіСЂР°С†РёРё
- вќЊ РћС‚РєР»СЋС‡РµРЅР° РїСЂРѕРІРµСЂРєР° SSL РІ РєР»РёРµРЅС‚Р°С…
- вљ пёЏ РўСЂРµР±СѓРµС‚СЃСЏ РїСЂРѕРІРµСЂРєР° РёРґРµРјРїРѕС‚РµРЅС‚РЅРѕСЃС‚Рё РІРµР±С…СѓРєРѕРІ
- **РЎС‚Р°С‚СѓСЃ:** РќРµ РїСЂРѕР№РґРµРЅ (S1)

### Р‘Р»РѕРє 19: DevOps
- вќЊ РћС‚СЃСѓС‚СЃС‚РІРёРµ CI/CD (РґРµРїР»РѕР№ РІСЂСѓС‡РЅСѓСЋ)
- вќЊ Р СѓС‡РЅС‹Рµ Р±СЌРєР°РїС‹
- вќЊ РњРѕРЅРѕР»РёС‚РЅР°СЏ РёРЅС„СЂР°СЃС‚СЂСѓРєС‚СѓСЂР°
- вќЊ РћС‚СЃСѓС‚СЃС‚РІРёРµ Docker/Makefile РґР»СЏ СЂР°Р·РІРµСЂС‚РєРё
- **РЎС‚Р°С‚СѓСЃ:** РќРµ РїСЂРѕР№РґРµРЅ (S1)

### Р‘Р»РѕРє 25.1: РЎР°РјРѕРїРёСЃРЅС‹Рµ Р±РёР±Р»РёРѕС‚РµРєРё
- вќЊ РЎР°РјРѕРїРёСЃРЅС‹Рµ HTTP-РєР»РёРµРЅС‚С‹ РґР»СЏ amoCRM/Bitrix24/Telegram РІРјРµСЃС‚Рѕ РѕС„РёС†РёР°Р»СЊРЅС‹С…
- вќЊ 70+ СЃР°РјРѕРїРёСЃРЅС‹С… С…РµР»РїРµСЂРѕРІ РІРјРµСЃС‚Рѕ РІСЃС‚СЂРѕРµРЅРЅС‹С… С„СѓРЅРєС†РёР№ Laravel
- вќЊ РСЃРїРѕР»СЊР·РѕРІР°РЅРёРµ `curl` РІРјРµСЃС‚Рѕ Laravel HTTP Facade/Guzzle
- **РЎС‚Р°С‚СѓСЃ:** РќРµ РїСЂРѕР№РґРµРЅ (S1)

### Р‘Р»РѕРє 25.2: РњРёРіСЂР°С†РёРё Рё СЂР°Р·РІРµСЂС‚РєР°
- вќЊ РњРёРіСЂР°С†РёРё РІ РЅРµСЃС‚Р°РЅРґР°СЂС‚РЅРѕР№ РїР°РїРєРµ `_migrations`
- вќЊ Р‘Р°Р·Р° СЃРѕР·РґР°С‘С‚СЃСЏ С‡РµСЂРµР· SQL-РґР°РјРїС‹
- вќЊ РћС‚СЃСѓС‚СЃС‚РІРёРµ СѓРґРѕР±РЅРѕР№ СЂР°Р·РІРµСЂС‚РєРё РѕРєСЂСѓР¶РµРЅРёР№ (Docker/Makefile)
- **РЎС‚Р°С‚СѓСЃ:** РќРµ РїСЂРѕР№РґРµРЅ (S1)

### Р‘Р»РѕРє 20: Р”РѕРєСѓРјРµРЅС‚Р°С†РёСЏ
- вќЊ РћС‚СЃСѓС‚СЃС‚РІРёРµ РґРѕРєСѓРјРµРЅС‚Р°С†РёРё (README РЅРµСЃС‚СЂСѓРєС‚СѓСЂРёСЂРѕРІР°РЅ)
- вќЊ РћС‚СЃСѓС‚СЃС‚РІРёРµ runbooks
- **РЎС‚Р°С‚СѓСЃ:** РќРµ РїСЂРѕР№РґРµРЅ (S3)

### Р‘Р»РѕРє 21: РџСЂРѕРёР·РІРѕРґРёС‚РµР»СЊРЅРѕСЃС‚СЊ
- вљ пёЏ РўСЂРµР±СѓРµС‚СЃСЏ РїСЂРѕС„РёР»РёСЂРѕРІР°РЅРёРµ
- вљ пёЏ РњРµРґР»РµРЅРЅС‹Рµ Р·Р°РїСЂРѕСЃС‹ (>10 СЃРµРє РґР»СЏ 200 С‚РѕРІР°СЂРѕРІ)
- **РЎС‚Р°С‚СѓСЃ:** РўСЂРµР±СѓРµС‚ РїСЂРѕРІРµСЂРєРё (S2)

---

## РўР°Р±Р»РёС†Р° РїСЂРѕР±Р»РµРј

| Р‘Р»РѕРє | РћРїРёСЃР°РЅРёРµ | Р”РѕРєР°Р·Р°С‚РµР»СЊСЃС‚РІР° | Severity | Р РµРєРѕРјРµРЅРґР°С†РёСЏ | РЎСЂРѕРє | Р’Р»Р°РґРµР»РµС† |
|------|----------|----------------|----------|--------------|------|----------|
| 2.1 | Hard-coded С‚РѕРєРµРЅС‹ | `routes/web.php:324-406`, `TestController.php:344-348` | S0 | Р’С‹РЅРµСЃС‚Рё РІ `.env`, СЂРµРІРѕРєРёСЂРѕРІР°С‚СЊ | РќРµРјРµРґР»РµРЅРЅРѕ | DevOps + Backend |
| 5.1 | РџСѓР±Р»РёС‡РЅС‹Рµ РјР°СЂС€СЂСѓС‚С‹ | `routes/web.php` (>2300 СЃС‚СЂРѕРє) | S0 | Р—Р°РєСЂС‹С‚СЊ Р°РІС‚РѕСЂРёР·Р°С†РёРµР№ | РќРµРјРµРґР»РµРЅРЅРѕ | Backend |
| 5.2 | РћС‚СЃСѓС‚СЃС‚РІРёРµ Policies | `AuthServiceProvider.php` | S0 | Р’РЅРµРґСЂРёС‚СЊ Policies/Gates | 1 РЅРµРґРµР»СЏ | Backend |
| 12.2 | РћС‚СЃСѓС‚СЃС‚РІРёРµ Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё API | `routes/web.php` | S0 | Р’РЅРµРґСЂРёС‚СЊ Sanctum/Passport | РќРµРјРµРґР»РµРЅРЅРѕ | Backend |
| 13.1 | РћС‚СЃСѓС‚СЃС‚РІРёРµ РїРѕР»РёС‚РёРє РґРѕСЃС‚СѓРїР° | `AuthServiceProvider.php` | S0 | РћРїСЂРµРґРµР»РёС‚СЊ СЂРѕР»Рё Рё РїСЂР°РІР° (RBAC) | 2 РЅРµРґРµР»Рё | Backend |
| TestController | РЈС‚РµС‡РєР° С‚РѕРєРµРЅРѕРІ | `TestController.php:344-348` | S0 | РЈРґР°Р»РёС‚СЊ/Р·Р°С‰РёС‚РёС‚СЊ | РќРµРјРµРґР»РµРЅРЅРѕ | Backend |
| 1.1 | РќРµСЃС‚Р°Р±РёР»СЊРЅС‹Рµ Р·Р°РІРёСЃРёРјРѕСЃС‚Рё | `composer.json:74-75` | S1 | РЈР±СЂР°С‚СЊ `minimum-stability: dev` | 1 РЅРµРґРµР»СЏ | DevOps |
| 2.2 | Р РµР¶РёРјС‹ РѕРєСЂСѓР¶РµРЅРёСЏ | РџСЂРѕРІРµСЂРёС‚СЊ `APP_DEBUG` | S1 | РќР°СЃС‚СЂРѕРёС‚СЊ СЂР°Р·РґРµР»РµРЅРёРµ env | 1 РЅРµРґРµР»СЏ | DevOps |
| 9.1 | Р›РѕРіРёСЂРѕРІР°РЅРёРµ | `helpers.php:200-559` | S1 | Р¦РµРЅС‚СЂР°Р»РёР·РѕРІР°РЅРЅС‹Р№ СЃР±РѕСЂ, СЂРѕС‚Р°С†РёСЏ | 1 РЅРµРґРµР»СЏ | Backend + DevOps |
| 9.2 | РђР»РµСЂС‚РёРЅРі | РћС‚СЃСѓС‚СЃС‚РІРёРµ | S1 | РќР°СЃС‚СЂРѕРёС‚СЊ Sentry/Bugsnag | 1 РЅРµРґРµР»СЏ | DevOps |
| 10.1 | РћС‡РµСЂРµРґРё | `app/Classes/Job.php` | S1 | Р’РѕСЃСЃС‚Р°РЅРѕРІРёС‚СЊ Horizon | 2 РЅРµРґРµР»Рё | Backend |
| 12.3 | Р—Р°С‰РёС‚Р° API | РћС‚СЃСѓС‚СЃС‚РІРёРµ rate-limit | S1 | Р’РЅРµРґСЂРёС‚СЊ throttle middleware | 1 РЅРµРґРµР»СЏ | Backend |
| 13.2 | Р‘РµР·РѕРїР°СЃРЅРѕСЃС‚СЊ РґР°РЅРЅС‹С… | РћС‚РєР»СЋС‡РµРЅ SSL | S1 | Р’РєР»СЋС‡РёС‚СЊ РїСЂРѕРІРµСЂРєСѓ SSL | 1 РЅРµРґРµР»СЏ | Backend |
| 13.3 | Р—Р°РіСЂСѓР·РєР° С„Р°Р№Р»РѕРІ | `public/` Р±РµР· РїСЂРѕРІРµСЂРѕРє | S1 | Р’Р°Р»РёРґР°С†РёСЏ, СЃРєР°РЅРёСЂРѕРІР°РЅРёРµ | 1 РЅРµРґРµР»СЏ | Backend |
| 18.1 | РљР»РёРµРЅС‚С‹ РёРЅС‚РµРіСЂР°С†РёР№ | РћС‚РєР»СЋС‡РµРЅ SSL | S1 | Р’РєР»СЋС‡РёС‚СЊ РїСЂРѕРІРµСЂРєСѓ SSL | 1 РЅРµРґРµР»СЏ | Backend |
| 18.2 | Р’РµР±С…СѓРєРё | РћС‚СЃСѓС‚СЃС‚РІРёРµ РїРѕРґРїРёСЃРё | S1 | Р’РЅРµРґСЂРёС‚СЊ РїСЂРѕРІРµСЂРєСѓ РїРѕРґРїРёСЃРё | 1 РЅРµРґРµР»СЏ | Backend |
| 19.1 | CI/CD | РћС‚СЃСѓС‚СЃС‚РІРёРµ | S1 | РќР°СЃС‚СЂРѕРёС‚СЊ РїР°Р№РїР»Р°Р№РЅ | 3 РЅРµРґРµР»Рё | DevOps |
| 19.2 | РРЅС„СЂР°СЃС‚СЂСѓРєС‚СѓСЂР° | РњРѕРЅРѕР»РёС‚ | S1 | Р Р°Р·РЅРµСЃС‚Рё СЃРµСЂРІРёСЃС‹ | 1 РјРµСЃСЏС† | DevOps |
| 19.3 | Р‘СЌРєР°РїС‹ | Р СѓС‡РЅС‹Рµ | S1 | РќР°СЃС‚СЂРѕРёС‚СЊ СЂР°СЃРїРёСЃР°РЅРёРµ | 2 РЅРµРґРµР»Рё | DevOps |
| 25.1 | РЎР°РјРѕРїРёСЃРЅС‹Рµ Р±РёР±Р»РёРѕС‚РµРєРё | `app/Amo/Classes/Request.php`, `app/Classes/Bitrix24.php`, `app/Classes/TG.php` | S1 | Р—Р°РјРµРЅРёС‚СЊ РЅР° РѕС„РёС†РёР°Р»СЊРЅС‹Рµ | 2 РЅРµРґРµР»Рё | Backend |
| 25.1 | РЎР°РјРѕРїРёСЃРЅС‹Рµ С…РµР»РїРµСЂС‹ | `app/Helpers/helpers.php` (70+ С„СѓРЅРєС†РёР№) | S1 | Р—Р°РјРµРЅРёС‚СЊ РЅР° Laravel-С„СѓРЅРєС†РёРё | 1 РјРµСЃСЏС† | Backend |
| 25.2 | РњРёРіСЂР°С†РёРё | `database/_migrations/`, SQL-РґР°РјРїС‹ | S1 | РџРµСЂРµРЅРµСЃС‚Рё РІ `migrations/`, СЃРѕР·РґР°С‚СЊ Docker | 2 РЅРµРґРµР»Рё | Backend + DevOps |
| 14.1 | Р”РѕРєСѓРјРµРЅС‚С‹ | Р›РѕРєР°Р»СЊРЅРѕРµ С…СЂР°РЅРµРЅРёРµ | S2 | РњРёРіСЂРёСЂРѕРІР°С‚СЊ РІ S3 | 3 РЅРµРґРµР»Рё | DevOps |
| 17.1 | РўРµСЃС‚С‹ | РћС‚СЃСѓС‚СЃС‚РІРёРµ | S2 | РќР°РїРёСЃР°С‚СЊ РєСЂРёС‚РёС‡РµСЃРєРёРµ С‚РµСЃС‚С‹ | 4 РЅРµРґРµР»Рё | QA + Backend |
| 20.1 | Р”РѕРєСѓРјРµРЅС‚Р°С†РёСЏ | РћС‚СЃСѓС‚СЃС‚РІРёРµ | S3 | РћР±РЅРѕРІРёС‚СЊ README, СЃРѕР·РґР°С‚СЊ docs/ | 3 РЅРµРґРµР»Рё | Tech Lead |

---

## Р”РѕСЂРѕР¶РЅР°СЏ РєР°СЂС‚Р° РёСЃРїСЂР°РІР»РµРЅРёР№

### Р¤Р°Р·Р° 1: РЎС‚Р°Р±РёР»РёР·Р°С†РёСЏ (0-2 РЅРµРґРµР»Рё) вЂ” РљР РРўРР§РќРћ

**Р¦РµР»СЊ:** РЈСЃС‚СЂР°РЅРёС‚СЊ РєСЂРёС‚РёС‡РµСЃРєРёРµ СѓСЏР·РІРёРјРѕСЃС‚Рё Р±РµР·РѕРїР°СЃРЅРѕСЃС‚Рё

1. **РќРµРґРµР»СЏ 1:**
   - Р—Р°РєСЂС‹С‚СЊ РІСЃРµ РїСѓР±Р»РёС‡РЅС‹Рµ РјР°СЂС€СЂСѓС‚С‹ (5.1, 5.2, 12.2, 13.1)
   - РЈРґР°Р»РёС‚СЊ/Р·Р°С‰РёС‚РёС‚СЊ TestController
   - Р’С‹РЅРµСЃС‚Рё РІСЃРµ С‚РѕРєРµРЅС‹ РІ `.env` (2.1)
   - Р РµРІРѕРєРёСЂРѕРІР°С‚СЊ СѓС‚РµРєС€РёРµ РєР»СЋС‡Рё
   - Р’РєР»СЋС‡РёС‚СЊ РїСЂРѕРІРµСЂРєСѓ SSL (13.2, 18.1)
   - РќР°СЃС‚СЂРѕРёС‚СЊ Р±Р°Р·РѕРІС‹Р№ РјРѕРЅРёС‚РѕСЂРёРЅРі (9.2)

2. **РќРµРґРµР»СЏ 2:**
   - РќР°СЃС‚СЂРѕРёС‚СЊ Р°РІС‚РѕРјР°С‚РёС‡РµСЃРєРёРµ Р±СЌРєР°РїС‹ (19.3)
   - РСЃРїСЂР°РІРёС‚СЊ helper'С‹ (СѓР±СЂР°С‚СЊ `die`, СѓР»СѓС‡С€РёС‚СЊ Р»РѕРіРёСЂРѕРІР°РЅРёРµ) (9.1)
   - РќР°СЃС‚СЂРѕРёС‚СЊ Р±Р°Р·РѕРІС‹Р№ CI/CD (19.1)
   - Р’РЅРµРґСЂРёС‚СЊ Policies РґР»СЏ РєСЂРёС‚РёС‡РЅС‹С… РѕРїРµСЂР°С†РёР№ (5.2, 13.1)

### Р¤Р°Р·Р° 2: РћРїС‚РёРјРёР·Р°С†РёСЏ (2-6 РЅРµРґРµР»СЊ)

**Р¦РµР»СЊ:** РЈР»СѓС‡С€РёС‚СЊ РїСЂРѕРёР·РІРѕРґРёС‚РµР»СЊРЅРѕСЃС‚СЊ Рё СЃС‚Р°Р±РёР»СЊРЅРѕСЃС‚СЊ

1. **РќРµРґРµР»Рё 3-4:**
   - Р’РѕСЃСЃС‚Р°РЅРѕРІРёС‚СЊ Laravel Horizon (10.1)
   - РњРёРіСЂРёСЂРѕРІР°С‚СЊ Р·Р°РґР°С‡Рё РёР· СЃР°РјРѕРїРёСЃРЅРѕР№ СЃРёСЃС‚РµРјС‹
   - Р—Р°РјРµРЅРёС‚СЊ СЃР°РјРѕРїРёСЃРЅС‹Рµ Р±РёР±Р»РёРѕС‚РµРєРё РЅР° РѕС„РёС†РёР°Р»СЊРЅС‹Рµ (amoCRM/Bitrix24/Telegram) (25.1)
   - Р—Р°РјРµРЅРёС‚СЊ СЃР°РјРѕРїРёСЃРЅС‹Рµ С…РµР»РїРµСЂС‹ РЅР° Laravel-С„СѓРЅРєС†РёРё (25.1)
   - РџРµСЂРµРЅРµСЃС‚Рё РјРёРіСЂР°С†РёРё РІ СЃС‚Р°РЅРґР°СЂС‚РЅСѓСЋ РїР°РїРєСѓ (25.2)
   - РЎРѕР·РґР°С‚СЊ Docker Compose Рё Makefile РґР»СЏ СЂР°Р·РІРµСЂС‚РєРё (25.2)
   - РћРїС‚РёРјРёР·РёСЂРѕРІР°С‚СЊ РјРµРґР»РµРЅРЅС‹Рµ Р·Р°РїСЂРѕСЃС‹ (7.3, 6.2)
   - Р”РѕР±Р°РІРёС‚СЊ РёРЅРґРµРєСЃС‹ (7.1)
   - Р’РЅРµРґСЂРёС‚СЊ rate-limit (12.3)

2. **РќРµРґРµР»Рё 5-6:**
   - Р РµС„Р°РєС‚РѕСЂРёРЅРі РєСЂРёС‚РёС‡РµСЃРєРёС… РїСѓС‚РµР№ (4.1, 4.2)
   - Р’РЅРµРґСЂРёС‚СЊ РєСЌС€РёСЂРѕРІР°РЅРёРµ (11.1, 11.2)
   - РќР°РїРёСЃР°С‚СЊ РєСЂРёС‚РёС‡РµСЃРєРёРµ С‚РµСЃС‚С‹ (17.1)
   - РќР°СЃС‚СЂРѕРёС‚СЊ СЃС‚Р°С‚РёС‡РµСЃРєРёР№ Р°РЅР°Р»РёР· (17.2)
   - РЈР»СѓС‡С€РёС‚СЊ РІР°Р»РёРґР°С†РёСЋ (8.1)

### Р¤Р°Р·Р° 3: РњР°СЃС€С‚Р°Р±РёСЂРѕРІР°РЅРёРµ (6+ РЅРµРґРµР»СЊ)

**Р¦РµР»СЊ:** РџРѕРґРіРѕС‚РѕРІРєР° Рє СЂРѕСЃС‚Сѓ РЅР°РіСЂСѓР·РєРё

1. **РќРµРґРµР»Рё 7-8:**
   - РњРёРіСЂРёСЂРѕРІР°С‚СЊ РґРѕРєСѓРјРµРЅС‚С‹ РІ S3 (14.1)
   - Р Р°Р·РЅРµСЃС‚Рё СЃРµСЂРІРёСЃС‹ (web/queue/db) (19.2)
   - РќР°СЃС‚СЂРѕРёС‚СЊ HA
   - РЈР»СѓС‡С€РёС‚СЊ РѕР±СЂР°Р±РѕС‚РєСѓ РёСЃРєР»СЋС‡РµРЅРёР№ (8.2)

2. **РќРµРґРµР»Рё 9+:**
   - РћР±РЅРѕРІРёС‚СЊ СЃС‚РµРє (PHP 8.2+, Laravel 10+) (3.1)
   - Р’РЅРµРґСЂРёС‚СЊ РїРѕР»РЅРѕС†РµРЅРЅС‹Р№ РјРѕРЅРёС‚РѕСЂРёРЅРі Рё РјРµС‚СЂРёРєРё (9.3, 21.1)
   - Р”РѕРєСѓРјРµРЅС‚РёСЂРѕРІР°С‚СЊ РїСЂРѕС†РµСЃСЃС‹ (20.1, 20.2)
   - РќР°СЃС‚СЂРѕРёС‚СЊ runbooks

---

## РљСЂР°СЃРЅС‹Рµ С„Р»Р°РіРё

РќР° РѕСЃРЅРѕРІРµ Р°РЅР°Р»РёР·Р° РІС‹СЏРІР»РµРЅС‹ СЃР»РµРґСѓСЋС‰РёРµ РєСЂРёС‚РёС‡РµСЃРєРёРµ РЅР°СЂСѓС€РµРЅРёСЏ:

- [x] **РЎРµРєСЂРµС‚С‹ РІ СЂРµРїРѕР·РёС‚РѕСЂРёРё** вЂ” hard-coded С‚РѕРєРµРЅС‹ РІ `routes/web.php` Рё `TestController` (2.1, 5.1)
- [x] **РќРµС‚ Р±СЌРєР°РїРѕРІ РёР»Рё РїСЂРѕРІРµСЂРєРё РІРѕСЃСЃС‚Р°РЅРѕРІР»РµРЅРёСЏ** вЂ” СЂСѓС‡РЅС‹Рµ Р±СЌРєР°РїС‹, РЅРµС‚ Р°РІС‚РѕРјР°С‚РёР·Р°С†РёРё (19.3)
- [x] **РћС‚СЃСѓС‚СЃС‚РІСѓСЋС‚ РѕС‡РµСЂРµРґРё РїСЂРё С‚СЏР¶С‘Р»С‹С… Р·Р°РґР°С‡Р°С…** вЂ” СЃР°РјРѕРїРёСЃРЅР°СЏ СЃРёСЃС‚РµРјР° РІРјРµСЃС‚Рѕ Laravel Horizon (10.1)
- [ ] **РЈСЃС‚Р°СЂРµРІС€РёРµ РІРµСЂСЃРёРё PHP/Laravel** вЂ” Laravel 9, PHP 8.1 (С‚СЂРµР±СѓРµС‚СЃСЏ РїСЂРѕРІРµСЂРєР° EoL) (3.1)
- [x] **РќРµС‚ РѕРіСЂР°РЅРёС‡РµРЅРёР№ Р‘Р” Рё РјР°СЃСЃРѕРІС‹Рµ N+1** вЂ” С‚СЂРµР±СѓРµС‚СЃСЏ Р°РЅР°Р»РёР· (7.1, 6.2)
- [x] **РќРµС‚ РјРѕРЅРёС‚РѕСЂРёРЅРіР° РїРѕ 5xx Рё РѕС‡РµСЂРµРґСЏРј** вЂ” РѕС‚СЃСѓС‚СЃС‚РІРёРµ С†РµРЅС‚СЂР°Р»РёР·РѕРІР°РЅРЅРѕРіРѕ РјРѕРЅРёС‚РѕСЂРёРЅРіР° (9.2, 9.3, 10.1)
- [x] **РџСѓР±Р»РёС‡РЅС‹Рµ РЅРµР·Р°РєСЂС‹С‚С‹Рµ СЌРЅРґРїРѕРёРЅС‚С‹** вЂ” РјРЅРѕР¶РµСЃС‚РІРѕ РјР°СЂС€СЂСѓС‚РѕРІ Р±РµР· Р°РІС‚РѕСЂРёР·Р°С†РёРё (5.1, 12.3, 18.2)

**Р РµРєРѕРјРµРЅРґР°С†РёСЏ:** Р—Р°РєСЂС‹С‚СЊ РІСЃРµ РѕС‚РјРµС‡РµРЅРЅС‹Рµ С„Р»Р°РіРё РІ СЂР°РјРєР°С… Р¤Р°Р·С‹ 1 РґРѕСЂРѕР¶РЅРѕР№ РєР°СЂС‚С‹.

---

## РњРµС‚СЂРёРєРё СѓСЃРїРµС…Р°

- вњ… Р’СЃРµ S0 РїСЂРѕР±Р»РµРјС‹ СѓСЃС‚СЂР°РЅРµРЅС‹
- вњ… Р’СЃРµ РїСѓР±Р»РёС‡РЅС‹Рµ РјР°СЂС€СЂСѓС‚С‹ Р·Р°С‰РёС‰РµРЅС‹
- вњ… РќР°СЃС‚СЂРѕРµРЅ РјРѕРЅРёС‚РѕСЂРёРЅРі Рё Р°Р»РµСЂС‚РёРЅРі
- вњ… РђРІС‚РѕРјР°С‚РёР·РёСЂРѕРІР°РЅС‹ Р±СЌРєР°РїС‹
- вњ… Р’РѕСЃСЃС‚Р°РЅРѕРІР»РµРЅС‹ РѕС‡РµСЂРµРґРё Laravel
- вњ… РџСЂРѕРёР·РІРѕРґРёС‚РµР»СЊРЅРѕСЃС‚СЊ: P95 < 800 РјСЃ
- вњ… РџРѕРєСЂС‹С‚РёРµ С‚РµСЃС‚Р°РјРё РєСЂРёС‚РёС‡РµСЃРєРёС… СЃС†РµРЅР°СЂРёРµРІ > 50%
- вњ… CI/CD РЅР°СЃС‚СЂРѕРµРЅ Рё СЂР°Р±РѕС‚Р°РµС‚
- вњ… Р”РѕРєСѓРјРµРЅС‚Р°С†РёСЏ Р°РєС‚СѓР°Р»СЊРЅР°

---

## РџСЂРёР»РѕР¶РµРЅРёСЏ

- Р”РµС‚Р°Р»СЊРЅС‹Рµ РѕС‚С‡РµС‚С‹ РїРѕ РєР°Р¶РґРѕРјСѓ РїСѓРЅРєС‚Сѓ: `audit/result/*.md` (55 С„Р°Р№Р»РѕРІ)
- Р§РµРєР»РёСЃС‚ Р°СѓРґРёС‚Р°: `audit/CHECKLIST_AUDIT.md`
- Р‘С‹СЃС‚СЂС‹Рµ РєРѕРјР°РЅРґС‹: `audit/result/23-01-quick-commands.md`
- РљСЂРёС‚РµСЂРёРё РїСЂРѕС…РѕР¶РґРµРЅРёСЏ: `audit/result/23-02-pass-criteria.md`
- РљСЂР°СЃРЅС‹Рµ С„Р»Р°РіРё: `audit/result/24-red-flags.md`
- РЎР°РјРѕРїРёСЃРЅС‹Рµ Р±РёР±Р»РёРѕС‚РµРєРё: `audit/result/25-01-custom-libraries.md`
- РњРёРіСЂР°С†РёРё Рё СЂР°Р·РІРµСЂС‚РєР°: `audit/result/25-02-migrations-and-deployment.md`

---

## РЎР»РµРґСѓСЋС‰РёРµ С€Р°РіРё

1. **РќРµРјРµРґР»РµРЅРЅРѕ (РґРѕ 24 С‡Р°СЃРѕРІ):**
   - Р—Р°РєСЂС‹С‚СЊ РІСЃРµ РїСѓР±Р»РёС‡РЅС‹Рµ РјР°СЂС€СЂСѓС‚С‹
   - Р’С‹РЅРµСЃС‚Рё С‚РѕРєРµРЅС‹ РІ `.env`
   - РЈРґР°Р»РёС‚СЊ TestController
   - Р РµРІРѕРєРёСЂРѕРІР°С‚СЊ СѓС‚РµРєС€РёРµ РєР»СЋС‡Рё

2. **Р’ С‚РµС‡РµРЅРёРµ РЅРµРґРµР»Рё:**
   - РќР°СЃС‚СЂРѕРёС‚СЊ РјРѕРЅРёС‚РѕСЂРёРЅРі (Sentry/Bugsnag)
   - РђРІС‚РѕРјР°С‚РёР·РёСЂРѕРІР°С‚СЊ Р±СЌРєР°РїС‹
   - Р’РєР»СЋС‡РёС‚СЊ РїСЂРѕРІРµСЂРєСѓ SSL
   - РќР°СЃС‚СЂРѕРёС‚СЊ Р±Р°Р·РѕРІС‹Р№ CI/CD

3. **Р’ С‚РµС‡РµРЅРёРµ РјРµСЃСЏС†Р°:**
   - Р’РѕСЃСЃС‚Р°РЅРѕРІРёС‚СЊ Laravel Horizon
   - РћРїС‚РёРјРёР·РёСЂРѕРІР°С‚СЊ РјРµРґР»РµРЅРЅС‹Рµ Р·Р°РїСЂРѕСЃС‹
   - РќР°РїРёСЃР°С‚СЊ РєСЂРёС‚РёС‡РµСЃРєРёРµ С‚РµСЃС‚С‹
   - РћР±РЅРѕРІРёС‚СЊ РґРѕРєСѓРјРµРЅС‚Р°С†РёСЋ

4. **Р”РѕР»РіРѕСЃСЂРѕС‡РЅРѕ:**
   - РњРёРіСЂРёСЂРѕРІР°С‚СЊ РІ S3
   - РћР±РЅРѕРІРёС‚СЊ СЃС‚РµРє (Laravel 10+, PHP 8.2+)
   - Р Р°Р·РЅРµСЃС‚Рё СЃРµСЂРІРёСЃС‹
   - Р’РЅРµРґСЂРёС‚СЊ РїРѕР»РЅРѕС†РµРЅРЅС‹Р№ РјРѕРЅРёС‚РѕСЂРёРЅРі

---

**РћС‚РІРµС‚СЃС‚РІРµРЅРЅС‹Рµ:**
- **Tech Lead** вЂ” РѕР±С‰Р°СЏ РєРѕРѕСЂРґРёРЅР°С†РёСЏ Рё РїСЂРёРѕСЂРёС‚РёР·Р°С†РёСЏ
- **Backend** вЂ” РёСЃРїСЂР°РІР»РµРЅРёРµ РєРѕРґР°, РІРЅРµРґСЂРµРЅРёРµ Р°РІС‚РѕСЂРёР·Р°С†РёРё, РѕРїС‚РёРјРёР·Р°С†РёСЏ
- **DevOps** вЂ” РёРЅС„СЂР°СЃС‚СЂСѓРєС‚СѓСЂР°, CI/CD, Р±СЌРєР°РїС‹, РјРѕРЅРёС‚РѕСЂРёРЅРі
- **QA** вЂ” С‚РµСЃС‚РёСЂРѕРІР°РЅРёРµ Рё РїСЂРѕРІРµСЂРєР° РёСЃРїСЂР°РІР»РµРЅРёР№

**РљРѕРЅС‚СЂРѕР»СЊ:** Р•Р¶РµРЅРµРґРµР»СЊРЅС‹Р№ РѕС‚С‡С‘С‚ РїРѕ СЃС‚Р°С‚СѓСЃСѓ РєСЂРёС‚РёС‡РµСЃРєРёС… РїСЂРѕР±Р»РµРј (S0/S1) Рё РїСЂРѕРіСЂРµСЃСЃСѓ РїРѕ РґРѕСЂРѕР¶РЅРѕР№ РєР°СЂС‚Рµ.
