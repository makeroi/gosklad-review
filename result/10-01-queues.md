# 10.1. Очереди

## Результат
- **Статус:** ❌ Не пройдено
- **Severity:** S1
- **Краткое заключение:** вместо стандартных Laravel-очередей используется самописный механизм на Redis; нет Horizon, retry/backoff и мониторинга.

## Наблюдение
- Класс `App\Classes\Job` читает ключи из Redis и выполняет методы вручную.
- Horizon закомментирован (`routes/web.php:73`).
- Задачи запускаются cron-скриптами, что не гарантирует идемпотентность и повторяемость.

## Доказательства
- `app/Classes/Job.php`
- `routes/web.php:73` — выключенный Horizon

## Риски
- Потеря задач при падении воркера или сервера.
- Отсутствие retry/backoff → операции могут выполняться повторно или не выполняться вообще.
- Нет мониторинга (dead-letter queue, задержки).

## Рекомендации
1. Вернуться к стандартной системе очередей Laravel (`queue:work`, Horizon).
2. Реализовать idempotency ключи для операций (резервы, синхронизации).
3. Настроить мониторинг Horizon + алерты.



