# 13.1. Политики доступа

## Результат
- **Статус:** ❌ Не пройдено
- **Severity:** S0
- **Краткое заключение:** отсутствуют политики доступа; контроль прав возложен на фронтенд или вовсе отсутствует.

## Наблюдение
- В `AuthServiceProvider` не зарегистрированы Policies для моделей.
- Публичные маршруты не требуют авторизации/проверки ролей.
- Нет разграничения ролей пользователей (админ, менеджер склада и т.д.).

## Доказательства
- `app/Providers/AuthServiceProvider.php` — пустой массив `$policies`.
- `routes/web.php` — отсутствие middleware `can`, `auth`, `role`.

## Риски
- Любой авторизованный (или даже неавторизованный) пользователь может выполнять чужие операции (создание резервов, выгрузка данных).
- Нарушение требований безопасности и конфиденциальности.

## Рекомендации
1. Определить роли и права (RBAC) и реализовать Policies/Gates.
2. Закрыть маршруты middleware `auth` + `can:*`.
3. Добавить unit/feature тесты, проверяющие отказ при недостатке прав.

## Следующие шаги
- 🟥 Ответственный: Backend
- ⏱ Срок: 2 недели
- 📌 Контроль: code review с обязательной проверкой авторизации.
