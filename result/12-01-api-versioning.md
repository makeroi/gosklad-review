# 12.1. Версионирование и спецификация

## Результат
- **Статус:** ⚠️ Требует улучшения
- **Severity:** S2
- **Краткое заключение:** API частично использует `/api/v1`, но отсутствует единая схема (OpenAPI/Swagger) и регламент версионирования.

## Наблюдение
- Маршруты из `routes/api.php` структурированы, но большая часть API доступна через `routes/web.php`.
- Нет публичной документации, описывающей вход/выход API.
- Клиентские команды жалуются на нестабильность списаний и резервов → возможно, были breaking changes.

## Доказательства
- `routes/web.php`, `routes/api.php`
- Отсутствие файла спецификации (`openapi.yaml`, `postman_collection.json`)

## Риски
- Невозможно контролировать breaking changes.
- Интеграторы (amoCRM/Kommo) получают неконсистентные ответы.

## Рекомендации
1. Собрать список существующих API и определить версии.
2. Описать их в OpenAPI/Swagger, разместить в репозитории.
3. Ввести контрактные тесты (например, `pact` или `schemathesis`).

## Следующие шаги
- 🟨 Ответственный: Backend
- ⏱ Срок: 4 недели
- 📌 Контроль: любая новая фича сопровождается обновлением спецификации.
