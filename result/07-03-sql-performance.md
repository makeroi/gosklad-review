# 7.3. Производительность SQL

## Результат
- **Статус:** ⚠️ Требует проверки
- **Severity:** S2
- **Краткое заключение:** известно о медленных запросах (>10 секунд), но анализ `EXPLAIN` и slow query log не проводился.

## Наблюдение
- Пользователи жалуются на задержки при загрузке списков товаров (200 позиций >10 секунд).
- Методы `ProductService::getList` и `Job::recalcReserve` выполняют множественные запросы без индексов.
- Нет мониторинга slow query log или pt-query-digest.

## Доказательства
- Обратная связь со звонка (описание проблемы с производительностью)
- `app/Services/ProductService.php:545-608`

## Риски
- Рост нагрузки приведёт к деградации сервиса и таймаутам интеграций.
- Финансовые потери у клиента из-за невозможности работать с системой.

## Рекомендации
1. Включить slow query log на продакшне и собрать топ-10 медленных запросов.
2. Прогнать `EXPLAIN` по критичным запросам, добавить индексы/материализованные представления.
3. Внедрить кеширование (Redis) и пагинацию/ленивую подгрузку.



