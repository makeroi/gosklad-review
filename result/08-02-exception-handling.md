# 8.2. Обработка исключений

## Результат
- **Статус:** ⚠️ Требует улучшения
- **Severity:** S2
- **Краткое заключение:** глобальный handler пишет ошибки в лог, но отсутствует маппинг на корректные HTTP-коды и централизованный мониторинг.

## Наблюдение
- `App\Exceptions\Handler` логирует ошибки через `Log::error`, но далее вызывает `parent::report`, что приводит к 500 для всех исключений.
- Нет разделения бизнес-исключений и системных.
- Отсутствует интеграция с Sentry/Flare.

## Доказательства
- `app/Exceptions/Handler.php`
- Логи (`storage/logs/`) — ошибки без классификации

## Риски
- Клиенты API получают 500 вместо 4xx/422, что затрудняет обработку ошибок.
- Проблемы в проде могут оставаться незамеченными без мониторинга.

## Рекомендации
1. Создать иерархию исключений (например, `DomainException`, `IntegrationException`, `ValidationException`).
2. Маппить исключения на соответствующие HTTP-коды.
3. Включить Sentry/Bugsnag для оперативных уведомлений.
4. Добавить пользовательские страницы ошибок для web-интерфейса.



