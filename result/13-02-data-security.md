# 13.2. Хранение и передача данных

## Результат
- **Статус:** ❌ Не пройдено
- **Severity:** S1
- **Краткое заключение:** отсутствует политика по защите данных в транзите и at-rest; документы и пользовательские файлы хранятся на том же сервере.

## Наблюдение
- HTTPS/TLS-конфигурация сервера не задокументирована (нужно уточнение у DevOps).
- Документы сохраняются в `public/images` и `storage/files` с правами `0777`.
- Не реализовано шифрование резервных копий/файлов.

## Доказательства
- `app/Http/Controllers/Api/V1/TestController.php:154-217` — запись изображений в `public/images` + `chmod 0777`.
- `DocumentService` — загрузка файлов без шифрования.

## Риски
- Возможность скачивания приватных документов любым посетителем (`/images/{id}`).
- Компрометация данных при утечке сервера/бэкапа.

## Рекомендации
1. Настроить принудительный TLS (HTTPS + HSTS), запретить доступ по HTTP.
2. Перенести документы и бэкапы в закрытое хранилище (S3 + presigned URL).
3. Запретить прямой доступ к `public/images`, использовать приватные диски.
4. Ограничить права на файлы (`0640`/`0600`), исключить `chmod 0777`.



